% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/db_prevalence_analysis.R
\name{analyze_prevalence_db_sufficient}
\alias{analyze_prevalence_db_sufficient}
\title{Database-Sufficient Prevalence Analysis from TSV}
\usage{
analyze_prevalence_db_sufficient(
  tsv_file_path,
  connection,
  cohort_database_schema,
  cohort_table_name = "cohort",
  result_table_name = "prevalence_analysis_results",
  cdm_database_schema = NULL,
  overwrite_results = TRUE,
  chunk_size = 1000,
  verbose = TRUE
)
}
\arguments{
\item{tsv_file_path}{Character. Path to the TSV file containing cohort and test data}

\item{connection}{Database connection object (DBI compatible)}

\item{cohort_database_schema}{Character. Database schema where cohort tables are stored}

\item{cohort_table_name}{Character. Name of the cohort table (default: "cohort")}

\item{result_table_name}{Character. Name for the results table (default: "prevalence_analysis_results")}

\item{cdm_database_schema}{Character. Schema containing OMOP CDM tables (default: same as cohort_database_schema)}

\item{overwrite_results}{Logical. Whether to overwrite existing results table (default: TRUE)}

\item{chunk_size}{Integer. Number of rows to process at once for large datasets (default: 1000)}

\item{verbose}{Logical. Whether to print progress messages (default: TRUE)}
}
\value{
Character. Name of the created results table
}
\description{
This function reads TSV data, performs prevalence analysis, and stores results
directly in the database within the specified cohort_database_schema.
}
\examples{
\dontrun{
# Basic usage
result_table <- analyze_prevalence_db_sufficient(
  tsv_file_path = "data/cohort_tests.tsv",
  connection = con,
  cohort_database_schema = "results",
  cohort_table_name = "my_cohort"
)

# With custom CDM schema
result_table <- analyze_prevalence_db_sufficient(
  tsv_file_path = "data/cohort_tests.tsv",
  connection = con,
  cohort_database_schema = "results",
  cdm_database_schema = "cdm",
  result_table_name = "ibd_prevalence_results"
)
}
}
