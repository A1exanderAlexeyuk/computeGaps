% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/db_example_usage.R, R/query_results.R
\name{query_prevalence_results}
\alias{query_prevalence_results}
\title{Query Results from Database}
\usage{
query_prevalence_results(
  connection,
  cohort_database_schema,
  results_table_name,
  cohortname = NULL,
  workflow_stage = NULL,
  domain = NULL,
  min_prevalence = NULL,
  order_by = "patient_count DESC"
)

query_prevalence_results(
  connection,
  cohort_database_schema,
  results_table_name,
  cohortname = NULL,
  workflow_stage = NULL,
  domain = NULL,
  min_prevalence = NULL,
  order_by = "patient_count DESC"
)
}
\arguments{
\item{connection}{Database connection object}

\item{cohort_database_schema}{Character. Schema name where results table is stored}

\item{results_table_name}{Character. Name of the results table}

\item{cohortname}{Character. Filter by cohort name (optional)}

\item{workflow_stage}{Character. Filter by workflow stage (optional)}

\item{domain}{Character. Filter by OMOP domain (optional)}

\item{min_prevalence}{Numeric. Minimum prevalence percentage to include (optional)}

\item{order_by}{Character. Column to order results by (default: "patient_count DESC")}

\item{result_table_name}{Results table name}

\item{filters}{List of filters to apply (optional)}

\item{limit}{Integer. Maximum rows to return (optional)}
}
\value{
Data frame with filtered results

Data frame with query results
}
\description{
Functions for querying and exporting prevalence analysis results
from the database.
Query Prevalence Results from Database
}
\examples{
\dontrun{
# Get all results
all_results <- query_prevalence_results(con, "results", "prevalence_analysis_20241201")

# Get results for specific cohort
ibd_results <- query_prevalence_results(
  con, "results", "prevalence_analysis_20241201",
  filters = list(cohortname = "IBD_Cohort"),
  limit = 100
)

# Get high prevalence tests
high_prev <- query_prevalence_results(
  con, "results", "prevalence_analysis_20241201",
  filters = list(patient_count_min = 10.0),
  order_by = "patient_count DESC"
)
}
\dontrun{
# Query all results
all_results <- query_prevalence_results(
  connection = connection,
  cohort_database_schema = "results",
  results_table_name = "prevalence_analysis_results"
)

# Query specific cohort and workflow stage
filtered_results <- query_prevalence_results(
  connection = connection,
  cohort_database_schema = "results", 
  results_table_name = "prevalence_analysis_results",
  cohortname = "Reference IBD Ulcerative colitis_InsightsGateway",
  workflow_stage = "Confirmatory Diagnosis"
)

# Query high prevalence results
high_prev_results <- query_prevalence_results(
  connection = connection,
  cohort_database_schema = "results",
  results_table_name = "prevalence_analysis_results", 
  min_prevalence = 10.0
)
}

}
